# NudgeAI 정상 작동 확인 방법: 팝업 노출 및 데이터 기록 테스트

NudgeAI의 모든 설치와 [초기 설정](./initial-setup.md)을 완료하셨다면, 이제 실제 스토어 환경에서 NudgeAI의 핵심 기능들이 의도한 대로 정확히 작동하는지 최종적으로 확인하는 것이 중요합니다. 이 가이드에서는 NudgeAI 팝업이 올바르게 노출되는지, 그리고 고객 정보가 Shopify에 정상적으로 기록되는지를 테스트하는 구체적인 시나리오와 방법을 안내합니다.

이전 [NudgeAI 설정 완료 확인 방법](./verifying-setup.md) 문서에서 안내된 NudgeAI 앱 대시보드 확인과 더불어, 다음의 프론트엔드 테스트를 통해 더욱 확실하게 NudgeAI의 정상 작동을 검증할 수 있습니다.

## 테스트 전 필수 준비사항

*   **시크릿 모드(Incognito Mode) 사용:** 브라우저의 시크릿 모드(또는 Private Window)를 사용하여 테스트를 진행해주세요. 이는 기존의 로그인 정보, 쿠키, 캐시 등의 영향을 받지 않고 새로운 방문자 입장에서 정확하게 테스트하기 위함입니다.
*   **테스트용 Google 계정:** 실제 정보 제공 흐름을 테스트하려면, 테스트에 사용할 Google 계정으로 브라우저에 미리 로그인해두는 것이 좋습니다.

## 시나리오별 작동 테스트

다음은 NudgeAI의 주요 기능별 테스트 시나리오입니다.

### 시나리오 1: AI Plus Pop-up 노출 및 정보 수집 테스트 (모바일 환경)

1.  **테스트 환경:** 스마트폰 또는 PC 브라우저의 개발자 도구를 사용하여 모바일 환경을 에뮬레이션합니다.
2.  **스토어 접속:** 시크릿 모드에서 NudgeAI가 적용된 Shopify 스토어의 **메인 페이지, 장바구니 페이지, 또는 주문 완료 페이지** 중 하나에 접속합니다.
3.  **팝업 확인:** 페이지가 로드되면 화면 하단에 AI Plus Pop-up이 나타나는지 확인합니다.
4.  **정보 제공:** 팝업을 클릭(탭)하고, 표시되는 Google One Tap 인터페이스를 통해 테스트 Google 계정으로 정보를 제공(이름, 이메일 확인 및 마케팅 동의)합니다.
5.  **Shopify 고객 정보 확인:**
    *   Shopify 관리자 패널 > 고객(Customers) 메뉴로 이동합니다.
    *   방금 정보를 제공한 테스트 고객이 목록에 새로 추가되었거나, 기존 고객 정보가 업데이트되었는지 확인합니다.
    *   해당 고객 상세 정보에서 이름, 이메일, 마케팅 수신 동의 상태("Email subscribed"), 그리고 NudgeAI 관련 태그("NudgeAI", "Google", "Name", "Verified email")가 올바르게 기록되었는지 확인합니다.
    *   고객 타임라인에 NudgeAI를 통한 고객 생성 또는 노트 추가 기록이 있는지 확인합니다.

### 시나리오 2: AI Lite Pop-up 노출 및 정보 수집 테스트 (PC/모바일)

1.  **테스트 환경:** PC 또는 모바일 브라우저를 사용합니다.
2.  **스토어 접속:** 시크릿 모드에서 스토어의 **메인 페이지 또는 상품 상세 페이지**에 접속합니다.
3.  **스크롤 및 팝업 확인:** 페이지를 약 50% 정도 아래로 스크롤했을 때 화면 하단 등에 AI Lite Pop-up("뉴스레터 구독" 등)이 나타나는지 확인합니다.
4.  **정보 제공:** "Subscribe" 버튼을 클릭하고, 표시되는 Google One Tap 인터페이스를 통해 테스트 Google 계정으로 정보를 제공합니다.
5.  **Shopify 고객 정보 확인:** 위 시나리오 1의 5번 항목과 동일한 방법으로 Shopify 고객 정보가 올바르게 기록되었는지 확인합니다.

### 시나리오 3: 'Continue with Google' 버튼 작동 테스트 (클래식 고객 계정)

*   **대상:** 스토어가 ['클래식(Legacy) 고객 계정'](./shopify-customer-accounts.md)을 사용하는 경우에만 해당됩니다.
1.  **테스트 환경:** PC 또는 모바일 브라우저를 사용합니다.
2.  **로그인/회원가입 페이지 접속:** 시크릿 모드에서 스토어의 로그인 페이지 (`/account/login`) 또는 회원가입 페이지 (`/account/register`)에 접속합니다.
3.  **버튼 확인 및 정보 제공:** 'Continue with Google' 버튼이 보이는지 확인하고, 버튼을 클릭하여 Google One Tap 인터페이스를 통해 테스트 Google 계정으로 정보를 제공합니다. 이때, NudgeAI 앱의 "Marketing Consent Settings"에 따라 마케팅 동의 UI가 올바르게 표시되는지도 확인합니다.
4.  **Shopify 고객 정보 확인:** 위 시나리오 1의 5번 항목과 동일한 방법으로 Shopify 고객 정보가 올바르게 기록되었는지 확인합니다.

## 예상되는 결과 및 문제 해결

*   **정상 작동 시:** 위 테스트 시나리오를 통해 NudgeAI 팝업 또는 버튼이 의도한 조건에 맞게 노출되고, 정보 제공 후 Shopify 고객 목록에 해당 고객의 정보(이름, 이메일, 마케팅 동의 상태, 태그, 노트, 타임라인 기록)가 정확하게 생성되거나 업데이트되어야 합니다.
*   **문제 발생 시:**
    *   팝업이 전혀 보이지 않거나, 버튼이 작동하지 않는 경우, 가장 먼저 [팝업이 표시되지 않을 때 문제 해결 방법](../../support/troubleshooting-popup-display.md) 문서를 참고하여 일반적인 점검 사항을 확인해주십시오.
    *   특히, NudgeAI 앱 내 서비스 활성화 여부, App Embed 설정 상태, 구독 플랜 상태 등을 다시 한번 점검합니다.
    *   문제가 지속되면, 발생한 문제 상황(어떤 페이지, 어떤 기능, 어떤 현상)과 함께 [NudgeAI 고객 지원팀](../../support/contacting-support.md)에 문의하여 주시면 신속하게 지원해 드리겠습니다.

이러한 구체적인 테스트를 통해 NudgeAI가 스토어에서 최적으로 작동하고 있음을 확신하실 수 있으며, 수집된 고품질 고객 데이터를 바탕으로 효과적인 마케팅 활동을 펼쳐나가실 수 있습니다. 